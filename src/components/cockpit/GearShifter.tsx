import { OctagonX, Power, PowerOff, Radio } from "lucide-react";

interface GearShifterProps {
  currentGear: string;
  onGearChange: (gear: string) => void;
  isEmergencyStop: boolean;
  isAutoMode: boolean;
  isIREnabled: boolean;
  isSonarEnabled: boolean;
  isCameraEnabled: boolean;
  isAutopilotEnabled: boolean;
  eBrakeActive: boolean;
  onEmergencyStop: () => void;
  onAutoMode: () => void;
  onIRToggle: () => void;
  onSonarToggle: () => void;
  onCameraToggle: () => void;
  onAutopilotToggle: () => void;
  isEnabled?: boolean;
  isEngineRunning?: boolean;
  onEngineStart?: () => void;
  onEngineStop?: () => void;
}

const GEARS = ["S", "3", "2", "1", "N", "R"];

export const GearShifter = ({ 
  currentGear, 
  onGearChange,
  isEmergencyStop,
  isAutoMode,
  isIREnabled,
  isSonarEnabled,
  isCameraEnabled,
  isAutopilotEnabled,
  eBrakeActive,
  onEmergencyStop,
  onAutoMode,
  onIRToggle,
  onSonarToggle,
  onCameraToggle,
  onAutopilotToggle,
  isEnabled = true,
  isEngineRunning = false,
  onEngineStart,
  onEngineStop
}: GearShifterProps) => {
  // Gearbox layout: 2 rows x 3 columns
  const gearLayout = [
    ["S", "3", "2"],
    ["1", "N", "R"]
  ];

  return (
    <div className="flex flex-col items-center h-full pt-0.5 pb-0.5 px-1 overflow-hidden bg-gradient-to-b from-background to-background/80">
      {/* LIVE TELEMETRY Header */}
      <div className="text-[7px] sm:text-[8px] font-bold racing-text text-muted-foreground tracking-wider mb-0.5">
        LIVE TELEMETRY
      </div>

      {/* E-STOP and AUTO OFF - Side by Side Round Buttons */}
      <div className="flex w-full gap-1 mb-1">
        {/* E-STOP Button - Round */}
        <button
          onClick={onEmergencyStop}
          className="flex-1 rounded-full bg-transparent flex items-center justify-center transition-all duration-100 touch-feedback font-bold racing-text"
          style={{
            outline: 'none',
            border: '2px solid rgb(239, 68, 68)'
          }}
        >
          <svg 
            className="w-10 h-10" 
            style={{ color: isEmergencyStop ? 'rgb(239, 68, 68)' : 'rgb(107, 114, 128)' }}
            xmlns="http://www.w3.org/2000/svg" 
            version="1.1" 
            viewBox="0 0 100 125"
          >
            <path d="M95.1,82.3l-41-3.7c-0.7-0.1-1.4-0.4-1.8-1L46,69.3l9.6-4.9l1.7,2.4c1.5,2.2,4.8,3,7,1.5c0.9-0.6,1.6-1.5,1.9-2.5    c1.4,0.5,3,0.3,4.3-0.6c0.9-0.6,1.5-1.4,1.8-2.4c1.4,0.5,3.1,0.3,4.4-0.6c1.4-0.9,2.1-2.4,2.1-4c1.5,0,2.9-0.6,4-1.9    c1.3-1.7,1.3-4.1,0.1-5.9l7.3-3.7c0.9-0.4,1.1-1.5,0.6-2.3l-0.5-0.8l1.9-1c0.9-0.4,1.1-1.5,0.6-2.3l-1.3-1.9    c-0.5-0.7-1.3-0.9-2.1-0.5L87.1,39L86.5,38c-0.5-0.7-1.3-0.9-2.1-0.5l-4.5,2.3l-2.8-5.5c-1.7-3.2-4.6-5.6-8.1-6.4l-8.7-2.2    l-2.2-3.1l0.7-0.5c1.1-0.8,1.4-2.3,0.6-3.4l-5.1-7.4c-0.8-1.1-2.3-1.4-3.4-0.6L32.4,23.5c-1.1,0.8-1.4,2.3-0.6,3.4l5.1,7.4    c0.8,1.1,2.3,1.4,3.4,0.6l0.7-0.5l2.2,3.2l-0.3,0.8c-1.6,3.6-1.2,7.8,1,11.1c1.3,1.9,2.9,4.1,4.8,6.4l-9.3,4.8l-2.5-3.3    c-0.8-1-2.1-1.3-3.2-0.8L4,71c-0.9,0.4-1.5,1.4-1.5,2.4v13.7c0,1.4,1.2,2.6,2.6,2.6h89.8c1.4,0,2.6-1.2,2.6-2.6V85    C97.5,83.6,96.5,82.5,95.1,82.3z M41.1,28.8c-1.1,0.7-2.5,0.5-3.3-0.6c-0.7-1.1-0.5-2.5,0.6-3.3c1.1-0.7,2.5-0.5,3.3,0.6    C42.4,26.6,42.1,28.1,41.1,28.8z M62.6,65.7c-0.8,0.6-2,0.4-2.6-0.5l-3-4.4c-0.6-0.8-0.4-2,0.5-2.6c0.9-0.6,2-0.4,2.6,0.5l3,4.4    C63.6,63.9,63.4,65.1,62.6,65.7z M68.7,62.6c-0.8,0.6-2,0.4-2.6-0.5l-4.1-6c-0.6-0.9-0.4-2,0.5-2.6c0.9-0.6,2-0.4,2.6,0.5l4.1,6    C69.8,60.8,69.6,62,68.7,62.6z M75,59.6c-0.8,0.6-2,0.4-2.6-0.5l-3.2-4.6c0.7-0.1,1.3-0.3,1.9-0.7l1.5-1l2.9,4.2    C76.1,57.9,75.9,59,75,59.6z M78.2,49l2.2,3.2c0.6,0.8,0.4,2-0.5,2.6c-0.8,0.6-2,0.4-2.6-0.5l-2.2-3.2l2.7-1.8    C78,49.2,78.1,49.1,78.2,49z M46.5,47.6c-1.6-2.4-1.9-5.4-0.7-8.1l0.7-1.6c0.2-0.5,0.2-1.1-0.2-1.5l-2.7-3.9l11.9-8.2L58,28    c0.2,0.3,0.5,0.5,0.9,0.6l9.3,2.3c2.6,0.7,4.9,2.4,6.1,4.8l3.1,6c0.9,1.7,0.3,3.9-1.3,4.9l-6.7,4.4c-0.8,0.5-1.9,0.3-2.5-0.5    c-0.3-0.4-0.4-0.9-0.3-1.4c0.1-0.5,0.4-0.9,0.8-1.2l4.7-3c0.7-0.4,0.9-1.3,0.6-2L71.1,40c-0.4-0.8-1.3-1.1-2.1-0.7    c-0.8,0.4-1.1,1.3-0.7,2.1l0.8,1.6c-6,1-8.7-3.6-8.8-3.9c-0.4-0.7-1.4-1-2.1-0.6L58,38.6c-0.6,0.4-0.9,1.3-0.5,2    c1,1.9,3.6,4.6,7.6,5.4c-0.7,0.6-1.1,1.3-1.4,2.2l-12.1,6.2C49.5,52,47.8,49.6,46.5,47.6z" fill="currentColor"/>
          </svg>
        </button>

        {/* AUTO OFF Button - Round */}
        <button
          onClick={onAutoMode}
          disabled={isEmergencyStop || isAutopilotEnabled}
          className="flex-1 rounded-full bg-transparent flex items-center justify-center transition-all duration-100 touch-feedback font-bold racing-text disabled:opacity-50 disabled:cursor-not-allowed"
          style={{
            outline: 'none',
            border: '2px solid rgb(0, 184, 163)'
          }}
        >
          <svg 
            className="w-10 h-10" 
            style={{ color: (isEmergencyStop || isAutopilotEnabled) ? 'rgb(107, 114, 128)' : (isAutoMode ? 'rgb(0, 184, 163)' : 'rgb(107, 114, 128)') }}
            xmlns="http://www.w3.org/2000/svg" 
            version="1.0" 
            viewBox="0 0 29.59 27.84375"
          >
            <path d="M25.803 4.589c-0.181,-0.384 -0.392,-0.674 -0.632,-0.877 -0.443,-0.379 -1.027,-0.416 -1.509,-0.101 -1.702,1.106 -3.686,1.906 -5.958,2.394 -0.01,0.094 -0.026,0.187 -0.045,0.28 -0.131,0.68 -0.387,1.347 -0.765,2.003 -0.107,0.184 -0.331,0.24 -0.504,0.125 -0.171,-0.114 -0.222,-0.354 -0.115,-0.538 0.328,-0.566 0.549,-1.139 0.664,-1.717 -0.448,0.082 -0.909,0.151 -1.379,0.21 -0.01,0.067 -0.021,0.131 -0.034,0.197 -0.131,0.681 -0.384,1.347 -0.766,2.003 -0.106,0.184 -0.33,0.24 -0.501,0.125 -0.171,-0.114 -0.224,-0.354 -0.117,-0.538 0.325,-0.563 0.546,-1.131 0.661,-1.704 -0.445,0.043 -0.899,0.074 -1.36,0.099 -0.013,0.098 -0.029,0.197 -0.051,0.296 -0.128,0.68 -0.384,1.346 -0.765,2.002 -0.107,0.184 -0.331,0.24 -0.501,0.126 -0.171,-0.115 -0.224,-0.358 -0.118,-0.539 0.334,-0.576 0.558,-1.157 0.67,-1.747 0.008,-0.037 0.015,-0.074 0.021,-0.109 -0.672,0.019 -1.363,0.016 -2.072,-0.005 -0.203,-0.006 -0.379,0.074 -0.515,0.234 -0.139,0.158 -0.2,0.355 -0.179,0.571 0.086,0.864 0.07,1.632 -0.047,2.307 -0.139,0.797 -0.619,1.408 -1.323,1.69 -0.707,0.286 -1.44,0.163 -2.032,-0.338 -0.163,-0.139 -0.325,-0.28 -0.488,-0.43 -0.149,-0.138 -0.347,-0.168 -0.528,-0.083 -0.179,0.086 -0.291,0.262 -0.299,0.472 -0.072,2.171 0.408,3.862 1.445,5.075 11.254,-3.298 17.635,-7.125 19.142,-11.483l0 0zm-16.296 15.998l19.368 0c0.395,0 0.715,0.344 0.715,0.768l0 0.152c0,0.424 -0.32,0.768 -0.715,0.768l-19.368 0c-0.395,0 -0.715,-0.344 -0.715,-0.768l0 -0.152c0,-0.424 0.32,-0.768 0.715,-0.768l0 0zm15.219 -6.451l3.714 5.624 -2.543 0 -2.846 -4.365 -2.829 2.128 -0.638 -0.979c-0.352,-0.538 -0.229,-1.288 0.272,-1.666l5.51 -4.142c0.501,-0.376 1.197,-0.245 1.549,0.294l0.638 0.978 -2.827 2.128 0 0zm-24.726 -8.432l6.4 -5.704 3.032 3.784c0.307,0.381 0.32,0.901 -0.04,1.221l-5.184 4.622c-0.309,0.274 -0.824,0.28 -1.088,-0.048l-3.12 -3.875 0 0zm9.334 0.123l0.557 0.525c-0.043,0.035 -0.08,0.075 -0.117,0.117 -0.23,0.267 -0.334,0.603 -0.299,0.96 0.069,0.715 0.08,1.459 -0.043,2.166 -0.109,0.624 -0.477,1.096 -1.032,1.317 -0.555,0.224 -1.12,0.131 -1.584,-0.264 -0.16,-0.136 -0.32,-0.277 -0.475,-0.419 -0.285,-0.258 -0.669,-0.32 -1.01,-0.157 -0.107,0.048 -0.2,0.115 -0.28,0.197l-0.32 -0.338 4.603 -4.104 0 0zm-2.387 10.747c11.416,-3.315 17.622,-7.091 19.141,-11.483 0,0 0.158,0.242 0.478,0.725 -0.624,4.664 -6.102,8.981 -17.918,13.622 -0.162,0.064 -0.325,0.047 -0.474,-0.046 -0.15,-0.093 -0.201,-0.253 -0.27,-0.421 -0.685,-1.659 -0.957,-2.398 -0.957,-2.398l0 0.001z" fill="currentColor"/>
          </svg>
        </button>
      </div>

      {/* IR, SONAR, AUTOPILOT, and CAMERA - Single Row Round Buttons */}
      <div className="flex w-full gap-1 mb-1 justify-center">
        {/* IR Button - Round */}
        <button
          onClick={onIRToggle}
          disabled={!isEngineRunning || isAutopilotEnabled}
          className="w-12 h-12 rounded-full bg-transparent flex items-center justify-center transition-all duration-100 touch-feedback font-bold disabled:opacity-50 disabled:cursor-not-allowed"
          style={{
            outline: 'none',
            border: '2px solid rgb(34, 197, 94)'
          }}
          title={isAutopilotEnabled ? 'IR: LOCKED (Autonomous Mode)' : (isIREnabled ? 'IR: ON' : 'IR: OFF')}
        >
          <svg 
            className="w-10 h-10" 
            style={{ color: (!isEngineRunning || isAutopilotEnabled) ? 'rgb(107, 114, 128)' : (isIREnabled ? 'rgb(34, 197, 94)' : 'rgb(107, 114, 128)') }}
            xmlns="http://www.w3.org/2000/svg" 
            version="1.1" 
            viewBox="-5.0 -10.0 110.0 135.0"
          >
            <path d="m71.766 37.016-3.5781-1.1875v-8.1562c0-8.5625-6.9531-15.516-15.516-15.516h-6.1875c-8.5469 0-15.5 6.9531-15.5 15.516v8.1562l-3.5781 1.1875c-0.8125 0.26562-1.2656 1.1562-0.98438 1.9844 0.21875 0.65625 0.82812 1.0625 1.4844 1.0625 0.15625 0 0.32812-0.03125 0.5-0.078125l2.5938-0.85938v39.656c0 5.9844 4.8594 10.859 10.844 10.859h15.5c5.9844 0 10.859-4.875 10.859-10.859v-39.656l2.5781 0.85938c0.17188 0.0625 0.32812 0.078125 0.5 0.078125 0.65625 0 1.2656-0.42188 1.4844-1.0625 0.26562-0.8125-0.17188-1.7031-0.98438-1.9688zm-7.625 0.70312-5.8906 8.25c-5.6406-1.6875-11.688-1.6875-17.344 0l-5.8906-8.2344c9.4219-3.0781 19.672-3.0781 29.109 0zm-22.297 29.203c2.5156 0.67188 5.1094 1.0156 7.7344 1.0156s5.2188-0.34375 7.7344-1.0156v4.1094c0 0.84375-0.6875 1.5312-1.5312 1.5312h-12.391c-0.85938 0-1.5469-0.6875-1.5469-1.5312zm0-3.2344v-14.766c5.0312-1.5 10.453-1.5 15.469 0v14.766c-5.0156 1.5-10.438 1.5-15.469 0zm-7.7344-21.859 4.6094 6.4531v15.781l-4.6094 3.6094v-25.859zm26.328 22.234v-15.781l4.625-6.4688v25.875z" fill="currentColor"/>
            <path d="m23.281 15.391c-2.2344 0-4.3281 0.89062-5.9062 2.4531-1.5625 1.5625-2.4375 3.6562-2.4531 5.8906 0 0.85938 0.6875 1.5625 1.5469 1.5781 0.85938 0 1.5625-0.6875 1.5625-1.5469 0-1.4062 0.5625-2.7344 1.5312-3.7031s2.2969-1.5312 3.7031-1.5312c0.85938 0 1.5625-0.70312 1.5469-1.5781s-0.64062-1.5781-1.5781-1.5469z" fill="currentColor"/>
            <path d="m23.297 8.5938c-4.0469 0-7.8594 1.5938-10.703 4.4375s-4.4375 6.6562-4.4531 10.703c0 0.85938 0.6875 1.5625 1.5625 1.5625 0.85938 0 1.5625-0.70312 1.5625-1.5625 0-3.2188 1.2656-6.25 3.5312-8.5156s5.2812-3.5156 8.5156-3.5312c0.85938 0 1.5625-0.70312 1.5625-1.5625s-0.70312-1.5625-1.5625-1.5625z" fill="currentColor"/>
            <path d="m23.312 81.484c-1.4062 0-2.7344-0.54688-3.7031-1.5312s-1.5312-2.2969-1.5312-3.7031c0-0.85938-0.70312-1.5469-1.5625-1.5469s-1.5625 0.70312-1.5469 1.5781c0.015625 2.2344 0.89062 4.3281 2.4531 5.8906s3.6562 2.4375 5.9062 2.4531c0.85938 0 1.5625-0.6875 1.5625-1.5469s-0.6875-1.5625-1.5469-1.5781z" fill="currentColor"/>
            <path d="m23.297 88.281c-3.2188 0-6.25-1.2656-8.5156-3.5312s-3.5156-5.2812-3.5312-8.5156c0-0.85938-0.70312-1.5625-1.5625-1.5625s-1.5625 0.70312-1.5625 1.5625c0 4.0469 1.5938 7.8594 4.4531 10.703s6.6562 4.4375 10.703 4.4375c0.85938 0 1.5625-0.70312 1.5625-1.5625s-0.6875-1.5625-1.5625-1.5625z" fill="currentColor"/>
            <path d="m80.422 56.797c0.3125 0.29688 0.70312 0.45312 1.0938 0.45312s0.8125-0.15625 1.1094-0.46875c1.5781-1.5938 2.4375-3.6875 2.4375-5.9062s-0.85938-4.3125-2.4375-5.9062c-0.60938-0.60938-1.5938-0.625-2.2031 0s-0.625 1.5938 0 2.2031c0.98438 1 1.5312 2.3281 1.5312 3.7031s-0.54688 2.7031-1.5312 3.7031c-0.60938 0.60938-0.59375 1.6094 0 2.2031z" fill="currentColor"/>
            <path d="m86.328 62.062c0.40625 0 0.79688-0.15625 1.1094-0.46875 2.8594-2.875 4.4219-6.6875 4.4219-10.719s-1.5781-7.8438-4.4219-10.719c-0.60938-0.60938-1.5938-0.60938-2.2031 0s-0.60938 1.5938 0 2.2031c2.2656 2.2812 3.5156 5.3125 3.5156 8.5156s-1.25 6.2188-3.5156 8.5156c-0.60938 0.60938-0.60938 1.6094 0 2.2031 0.29688 0.29688 0.70312 0.45312 1.0938 0.45312z" fill="currentColor"/>
            <path d="m75.859 18.516c1.4062 0 2.7344 0.54688 3.7188 1.5312s1.5312 2.2969 1.5312 3.7031c0 0.85938 0.70312 1.5469 1.5625 1.5469s1.5625-0.70312 1.5469-1.5781c0-2.2344-0.89062-4.3281-2.4531-5.8906s-3.6562-2.4375-5.9062-2.4531c-0.85938 0-1.5625 0.6875-1.5625 1.5469s0.6875 1.5625 1.5469 1.5781z" fill="currentColor"/>
            <path d="m75.859 11.719c3.2188 0 6.25 1.2656 8.5156 3.5312s3.5156 5.2812 3.5312 8.5156c0 0.85938 0.70312 1.5625 1.5625 1.5625s1.5625-0.70312 1.5625-1.5625c0-4.0469-1.5938-7.8594-4.4375-10.703-2.8438-2.8594-6.6562-4.4375-10.703-4.4375-0.85938 0-1.5625 0.70312-1.5625 1.5625s0.6875 1.5625 1.5625 1.5625z" fill="currentColor"/>
            <path d="m75.859 84.609c2.2344 0 4.3281-0.89062 5.9062-2.4531s2.4375-3.6562 2.4531-5.8906c0-0.85938-0.6875-1.5625-1.5469-1.5781-0.875-0.03125-1.5625 0.6875-1.5781 1.5469 0 1.4062-0.5625 2.7344-1.5312 3.7031s-2.2969 1.5312-3.7188 1.5312c-0.85938 0-1.5625 0.70312-1.5469 1.5781 0 0.85938 0.70312 1.5469 1.5625 1.5469z" fill="currentColor"/>
            <path d="m89.469 74.688c-0.85938 0-1.5625 0.70312-1.5625 1.5625 0 3.2188-1.2656 6.25-3.5312 8.5156s-5.2812 3.5156-8.5156 3.5312c-0.85938 0-1.5625 0.70312-1.5625 1.5625s0.70312 1.5625 1.5625 1.5625c4.0469 0 7.8594-1.5938 10.703-4.4375 2.8594-2.8594 4.4375-6.6562 4.4375-10.703 0-0.85938-0.6875-1.5625-1.5625-1.5625z" fill="currentColor"/>
            <path d="m22.547 45.422c-0.60938-0.60938-1.6094-0.59375-2.2031 0-1.4219 1.4375-2.2031 3.3438-2.2031 5.3438s0.78125 3.9062 2.2031 5.3438c0.3125 0.3125 0.70312 0.46875 1.1094 0.46875s0.79688-0.15625 1.0938-0.45312c0.60938-0.60938 0.625-1.5938 0-2.2031-0.84375-0.85938-1.2969-1.9688-1.2969-3.1406s0.46875-2.2969 1.2969-3.1406c0.60938-0.60938 0.59375-1.6094 0-2.2031z" fill="currentColor"/>
            <path d="m16.094 41.203c-2.5625 2.5781-3.9688 5.9844-3.9688 9.5781s1.4062 7.0156 3.9688 9.5781c0.3125 0.3125 0.70312 0.46875 1.1094 0.46875s0.79688-0.15625 1.0938-0.45312c0.60938-0.60938 0.60938-1.5938 0-2.2031-1.9688-1.9844-3.0469-4.6094-3.0469-7.3906s1.0781-5.4062 3.0469-7.3906c0.60938-0.60938 0.60938-1.5938 0-2.2031s-1.5938-0.60938-2.2031 0z" fill="currentColor"/>
          </svg>
        </button>

        {/* SONAR Button - Round */}
        <button
          onClick={onSonarToggle}
          disabled={!isEngineRunning || isAutopilotEnabled}
          className="w-12 h-12 rounded-full bg-transparent flex items-center justify-center transition-all duration-100 touch-feedback font-bold disabled:opacity-50 disabled:cursor-not-allowed"
          style={{
            outline: 'none',
            border: '2px solid rgb(59, 130, 246)'
          }}
          title={isAutopilotEnabled ? 'SONAR: LOCKED (Autonomous Mode)' : (isSonarEnabled ? 'SONAR: ON' : 'SONAR: OFF')}
        >
          <svg 
            className="w-10 h-10" 
            style={{ color: (!isEngineRunning || isAutopilotEnabled) ? 'rgb(107, 114, 128)' : (isSonarEnabled ? 'rgb(59, 130, 246)' : 'rgb(107, 114, 128)') }}
            xmlns="http://www.w3.org/2000/svg" 
            version="1.1" 
            viewBox="-5.0 -10.0 110.0 135.0"
          >
            <path d="m66.648 9.3711c4.6641 0.91797 9.1328 2.6328 13.211 5.0781 8.2188 4.9336 14.48 12.555 17.723 21.578 0.80078 2.2383 1.4062 4.5391 1.8125 6.8828 0.80859 4.6914 0.80859 9.4883 0 14.18-1.2148 7.0625-4.2539 13.684-8.8086 19.215-3.0234 3.6719-6.6523 6.8008-10.727 9.2539-4.0781 2.4414-8.5469 4.1602-13.211 5.0742 1.1602-0.23828 2.3086-0.52734 3.4453-0.86719s2.2539-0.72266 3.3594-1.1562c6.6328-2.6211 12.48-6.8984 16.988-12.43 1.4922-1.832 2.8242-3.7891 3.9883-5.8438 2.3281-4.125 3.9258-8.6172 4.7266-13.285 0.79688-4.668 0.79688-9.4336 0-14.102-0.80078-4.6641-2.3984-9.1602-4.7266-13.285-3.5039-6.207-8.543-11.414-14.637-15.113-2.0234-1.2305-4.1445-2.2852-6.3477-3.1523-1.1016-0.43359-2.2227-0.81641-3.3594-1.1562-1.1406-0.33594-2.2852-0.625-3.4375-0.87109z" fill="currentColor"/>
            <path d="m65.039 17.312c3.7734 0.68359 7.3945 2.0273 10.695 3.9688 1.6562 0.97656 3.2227 2.0898 4.6875 3.332 0.73438 0.62109 1.4375 1.2734 2.1094 1.9609 0.67578 0.6875 1.3203 1.3984 1.9336 2.1328 3.7148 4.4609 6.1953 9.8203 7.1914 15.539 0.66016 3.8047 0.66016 7.6953 0 11.5-1.6836 9.6211-7.5039 18.02-15.922 22.973-3.3008 1.9453-6.9219 3.2891-10.695 3.9688 3.7188-0.82422 7.2734-2.2695 10.512-4.2734 1.6133-0.99609 3.1367-2.1289 4.5586-3.3867 1.418-1.2539 2.7266-2.6211 3.9141-4.0938 0.59375-0.73438 1.1523-1.4961 1.6797-2.2773 0.52734-0.78516 1.0234-1.5859 1.4844-2.4102h0.003906c0.92188-1.6484 1.6992-3.3711 2.3281-5.1523 0.62891-1.7773 1.1055-3.6055 1.418-5.4648 1.293-7.5078-0.027344-15.23-3.7461-21.875-0.46094-0.82422-0.95703-1.6289-1.4844-2.4141-0.52734-0.78516-1.0898-1.543-1.6797-2.2773-0.59375-0.73438-1.2188-1.4453-1.8711-2.1289-0.65625-0.6875-1.3398-1.3398-2.0469-1.9609-1.4219-1.2578-2.9453-2.3906-4.5547-3.3867-3.2422-2.0078-6.7969-3.4531-10.516-4.2734z" fill="currentColor"/>
            <path d="m63.43 25.25c2.8906 0.42578 5.6719 1.3828 8.2148 2.8164 2.5703 1.4492 4.8594 3.3398 6.7695 5.5859l0.35156 0.42578 0.17578 0.21094c0.03125 0.035157 0.058594 0.070313 0.089844 0.10547l0.082031 0.10938 0.33203 0.44141c0.10547 0.14844 0.22656 0.29297 0.32813 0.44531l0.31641 0.45703c0.10547 0.15234 0.21094 0.30469 0.30469 0.46094l0.29297 0.46875c0.097656 0.15625 0.19922 0.31641 0.28516 0.47656v0.003906c0.75 1.2812 1.3828 2.625 1.8906 4.0156l0.18359 0.52344 0.09375 0.26172c0.03125 0.085937 0.054687 0.17578 0.082031 0.26562l0.16016 0.53125 0.078126 0.26562c0.027343 0.089844 0.046874 0.17969 0.070312 0.26953l0.13672 0.53906c0.046875 0.17969 0.09375 0.35937 0.12891 0.54297l0.11328 0.54297c0.035156 0.17969 0.078125 0.36328 0.10547 0.54688l0.003906 0.003906c0.51953 2.9297 0.51953 5.9258 0 8.8594-0.25781 1.4609-0.64453 2.8945-1.1562 4.2891-0.50781 1.3945-1.1406 2.7383-1.8867 4.0156-0.089843 0.16406-0.1875 0.31641-0.28516 0.47656l-0.29297 0.46875c-0.09375 0.16016-0.20313 0.31641-0.30469 0.46094l-0.31641 0.45703c-0.10547 0.15625-0.21875 0.30078-0.32812 0.44531l-0.33203 0.44141-0.085938 0.10547c-0.027344 0.035156-0.058594 0.074218-0.085938 0.10547l-0.17578 0.21094-0.35156 0.42969h-0.003907c-1.9062 2.25-4.1992 4.1406-6.7695 5.5859-1.2734 0.71484-2.6094 1.3164-3.9883 1.7891-0.34766 0.10547-0.69141 0.22656-1.0391 0.33203-0.34766 0.10547-0.69922 0.19141-1.0508 0.28125l-1.0664 0.25-0.53516 0.09375-0.53516 0.089844 0.52344-0.14844 0.52344-0.14453 1.0273-0.33203 1.0117-0.37109 0.99609-0.41016 0.003906 0.003906c1.3086-0.57422 2.5703-1.25 3.7695-2.0234 2.3828-1.543 4.4961-3.4688 6.2539-5.7031l0.48047-0.63281c0.027344-0.035157 0.054688-0.070313 0.078125-0.10547l0.074219-0.10547 0.30469-0.43359c0.10547-0.14453 0.21094-0.28516 0.29688-0.4375l0.28516-0.44531c0.09375-0.14844 0.19141-0.29297 0.27734-0.44531l0.26562-0.45703c0.089844-0.15234 0.17969-0.30078 0.25781-0.45703l0.007813 0.003906c0.67578-1.2305 1.2461-2.5195 1.707-3.8477 0.91406-2.6562 1.3828-5.4453 1.3828-8.2578 0-1.4023-0.11719-2.8008-0.35156-4.1875-0.023438-0.17578-0.0625-0.34375-0.09375-0.51953l-0.10547-0.51562c-0.03125-0.17188-0.074219-0.34375-0.11719-0.51172l-0.12109-0.51172c-0.023438-0.085937-0.039063-0.17187-0.0625-0.25391l-0.074219-0.25391-0.14062-0.50781c-0.023437-0.085938-0.046875-0.16797-0.074219-0.25391l-0.24609-0.75v0.003907c-0.46484-1.3281-1.0352-2.6133-1.707-3.8477-0.078125-0.15625-0.17188-0.30859-0.26172-0.46094l-0.26953-0.44922c-0.085937-0.15234-0.18359-0.30078-0.27734-0.44922l-0.28516-0.44531c-0.09375-0.14844-0.19922-0.29297-0.29688-0.4375l-0.30469-0.43359-0.074219-0.10547c-0.027344-0.035156-0.054688-0.070312-0.078125-0.10547l-0.48047-0.63281-0.003906 0.007812c-1.7578-2.2305-3.8711-4.1562-6.2539-5.6992-1.1992-0.77734-2.4609-1.457-3.7695-2.0312l-0.99609-0.41016-1.0117-0.37109-1.0273-0.32812c-0.34766-0.097657-0.69531-0.19531-1.043-0.29297z" fill="currentColor"/>
            <path d="m61.82 33.188c0.99219 0.078125 1.9766 0.26172 2.9297 0.54297 0.96875 0.28125 1.9062 0.65625 2.8047 1.1211 1.8203 0.94141 3.4492 2.2109 4.8086 3.7461 1.3789 1.5508 2.4609 3.3438 3.1953 5.2852 1.4844 3.9453 1.4844 8.293 0 12.234-0.73047 1.9414-1.8125 3.7344-3.1914 5.2891-1.3633 1.5352-2.9922 2.8047-4.8125 3.7461l-0.68359 0.32812c-0.23047 0.10547-0.46094 0.20312-0.69531 0.29688s-0.47266 0.17578-0.70703 0.26172c-0.23438 0.085938-0.47656 0.15625-0.71875 0.22656v0.007813c-0.95703 0.28125-1.9375 0.46094-2.9297 0.53906 0.92578-0.30469 1.832-0.67578 2.707-1.1055l0.64062-0.33203 0.62891-0.35547 0.60938-0.37891 0.59375-0.40234 0.003906-0.003906c1.543-1.0859 2.9062-2.4062 4.0391-3.918 1.1133-1.4844 1.9805-3.1367 2.5703-4.8984 1.1758-3.5156 1.1758-7.3203 0-10.84-0.58984-1.7578-1.457-3.4141-2.5703-4.8984-1.1328-1.5078-2.4961-2.832-4.0391-3.918-0.78516-0.55078-1.6094-1.043-2.4727-1.4688-0.875-0.42969-1.7812-0.80078-2.7109-1.1055z" fill="currentColor"/>
            <path d="m60.215 41.129c0.54297-0.054687 1.0938-0.035156 1.6328 0.054688 0.55469 0.089844 1.0938 0.24219 1.6133 0.44922 1.0742 0.43359 2.043 1.082 2.8555 1.9062 0.83203 0.84766 1.4922 1.8516 1.9375 2.9492 0.91016 2.2539 0.91016 4.7695 0 7.0234-0.44531 1.1016-1.1016 2.1055-1.9375 2.9492-0.8125 0.82812-1.7812 1.4766-2.8555 1.9102-0.51953 0.21094-1.0586 0.36328-1.6133 0.45312-0.53906 0.089843-1.0898 0.10547-1.6328 0.054687 0.46094-0.25 0.90625-0.51953 1.3398-0.8125 0.41016-0.28125 0.80078-0.58984 1.1719-0.92188 0.70313-0.625 1.3164-1.3438 1.8242-2.1367 0.48047-0.75391 0.85547-1.5703 1.1094-2.4297 0.49609-1.6836 0.49609-3.4766 0-5.1641-0.25391-0.85547-0.62891-1.6758-1.1094-2.4297-0.50781-0.78906-1.1211-1.5078-1.8242-2.1328-0.37109-0.33203-0.76172-0.63672-1.1719-0.91797-0.43359-0.28906-0.88281-0.55859-1.3398-0.80469z" fill="currentColor"/>
            <path d="m33.352 9.3711c-1.1602 0.24219-2.3086 0.53125-3.4414 0.86719-1.1367 0.33984-2.2578 0.72266-3.3594 1.1562-6.6367 2.6172-12.484 6.8945-16.992 12.426-1.4922 1.832-2.8242 3.7891-3.9883 5.8438-2.3281 4.125-3.9297 8.6172-4.7305 13.285-0.79688 4.668-0.79688 9.4336 0 14.102 0.80078 4.668 2.3984 9.1602 4.7266 13.285 3.5039 6.207 8.543 11.414 14.633 15.117 2.0234 1.2305 4.1484 2.2852 6.3516 3.1484 1.1016 0.43359 2.2188 0.82031 3.3594 1.1562 1.1406 0.33594 2.2852 0.625 3.4414 0.86719-4.6641-0.91406-9.1328-2.6328-13.207-5.0742-8.2227-4.9336-14.484-12.555-17.73-21.578-0.80078-2.2383-1.4023-4.5391-1.8047-6.8828-0.8125-4.6914-0.8125-9.4883 0-14.18 1.2148-7.0625 4.25-13.684 8.8086-19.215 3.0195-3.6719 6.6484-6.7969 10.727-9.2461 4.0742-2.4453 8.543-4.1602 13.207-5.0781z" fill="currentColor"/>
            <path d="m34.961 17.312c-3.7188 0.82422-7.2734 2.2695-10.512 4.2734-1.6133 0.99609-3.1367 2.1289-4.5547 3.3867-0.70703 0.62891-1.3906 1.2852-2.0469 1.9648s-1.2812 1.3906-1.8711 2.1289c-0.59375 0.73438-1.1523 1.4961-1.6797 2.2773-0.52344 0.78516-1.0273 1.5859-1.4844 2.4141-5.6484 10.094-5.6484 22.398 0 32.492 0.46094 0.82422 0.95703 1.6289 1.4883 2.4102s1.0898 1.543 1.6797 2.2773h-0.003907c1.1914 1.4727 2.5 2.8438 3.918 4.0938 1.418 1.2578 2.9414 2.3906 4.5547 3.3867 3.2383 2.0039 6.793 3.4492 10.512 4.2695-3.7695-0.67969-7.3945-2.0234-10.695-3.9688-3.3164-1.9531-6.2695-4.4648-8.7266-7.4258-3.7148-4.4609-6.1914-9.8164-7.1875-15.539-0.66016-3.8047-0.66016-7.6953 0-11.5 0.99219-5.7188 3.4727-11.078 7.1875-15.539 0.61328-0.73828 1.2578-1.4492 1.9336-2.1328 0.67578-0.68359 1.3789-1.3359 2.1094-1.9609 1.4609-1.2422 3.0273-2.3555 4.6836-3.3281 3.3008-1.9492 6.9219-3.2969 10.695-3.9805z" fill="currentColor"/>
            <path d="m36.57 25.25c-0.35156 0.097656-0.69922 0.19531-1.043 0.28906l-1.0273 0.33203-1.0078 0.37109-0.99609 0.41016c-1.3086 0.57031-2.5703 1.2461-3.7695 2.0234-2.3867 1.543-4.5 3.4688-6.2578 5.6992l-0.48047 0.63281c-0.027343 0.035157-0.054687 0.070313-0.078125 0.10547l-0.078125 0.10547-0.30078 0.43359c-0.10547 0.14453-0.21094 0.28516-0.29688 0.4375l-0.28516 0.44531c-0.09375 0.14844-0.19141 0.29688-0.27734 0.44922l-0.26562 0.45312c-0.089844 0.15234-0.17969 0.30078-0.25781 0.46094l-0.007813-0.007813c-0.67578 1.2305-1.2461 2.5195-1.707 3.8477l-0.16406 0.50391-0.082031 0.25c-0.027344 0.082031-0.050781 0.16797-0.074219 0.25391l-0.14453 0.50781-0.074219 0.25391c-0.023437 0.085938-0.042969 0.17188-0.0625 0.25391l-0.12109 0.51172c-0.039063 0.17187-0.085938 0.33984-0.11719 0.51172l-0.10547 0.51562c-0.03125 0.17188-0.070312 0.34375-0.09375 0.51953l-0.003906-0.007812c-0.94141 5.5859 0.027344 11.324 2.7461 16.293 0.078125 0.15625 0.17188 0.30469 0.25781 0.45703l0.26953 0.45703c0.085938 0.15234 0.18359 0.30078 0.27734 0.44531l0.28516 0.44531c0.09375 0.14844 0.19922 0.29297 0.29688 0.4375l0.30469 0.43359 0.074219 0.10547c0.023437 0.035156 0.054687 0.070312 0.078125 0.10547l0.48047 0.63281 0.007812-0.003906c1.7539 2.2305 3.8672 4.1562 6.25 5.6992 1.1992 0.77734 2.4609 1.4531 3.7734 2.0234l0.99609 0.41016 1.0117 0.37109 1.0273 0.33203 0.52344 0.14453 0.52344 0.14844-0.53516-0.089844-0.53516-0.09375-1.0664-0.22656c-0.35156-0.089844-0.70312-0.1875-1.0508-0.28125-0.34766-0.09375-0.69141-0.21875-1.0391-0.33203-1.3828-0.47656-2.7148-1.0742-3.9883-1.7891-2.5703-1.4492-4.8633-3.3398-6.7695-5.5859l-0.35156-0.42969-0.17578-0.21094c-0.027344-0.035157-0.058594-0.070313-0.085938-0.10547l-0.082031-0.10547-0.33203-0.44141c-0.10938-0.14844-0.22656-0.29297-0.32812-0.44531l-0.31641-0.45703c-0.10547-0.15234-0.21094-0.30469-0.30469-0.46094l-0.29297-0.46875c-0.097656-0.15625-0.19922-0.31641-0.28516-0.47656l-0.007812-0.003906c-0.74609-1.2773-1.3789-2.6211-1.8906-4.0117-0.50781-1.3945-0.89453-2.832-1.1523-4.293-0.51953-2.9297-0.51953-5.9297 0-8.8594 0.027344-0.18359 0.070313-0.36328 0.10547-0.54688l0.11328-0.54297c0.035156-0.18359 0.082031-0.35938 0.12891-0.54297l0.13672-0.53906c0.023438-0.089844 0.042969-0.17969 0.070312-0.26953l0.082032-0.26562 0.16016-0.53125c0.027344-0.089844 0.050781-0.17969 0.082031-0.26562l0.28125-0.78516-0.003906-0.003907c0.50781-1.3906 1.1406-2.7344 1.8906-4.0156 0.089844-0.16406 0.1875-0.31641 0.28516-0.47656l0.29297-0.46875c0.09375-0.16016 0.20312-0.30859 0.30469-0.46094l0.31641-0.45703c0.10547-0.15625 0.21875-0.29688 0.32812-0.44531l0.33203-0.44141 0.085937-0.10938c0.027344-0.035156 0.058594-0.070312 0.085938-0.10547l0.17578-0.21094 0.35156-0.42578v-0.003906c1.9102-2.2461 4.1992-4.1367 6.7695-5.5859 2.5391-1.4375 5.3242-2.3984 8.2109-2.832z" fill="currentColor"/>
            <path d="m38.18 33.188c-0.92969 0.30469-1.8359 0.67578-2.7109 1.1055-0.85938 0.42578-1.6875 0.91797-2.4727 1.4688-1.543 1.0859-2.9062 2.4102-4.0391 3.918-1.1133 1.4844-1.9805 3.1406-2.5703 4.8984-1.1758 3.5195-1.1758 7.3242 0 10.84 0.58984 1.7617 1.457 3.4141 2.5703 4.8984 1.1328 1.5117 2.4961 2.832 4.0391 3.918l0.59375 0.40234 0.60938 0.37891 0.62891 0.35547 0.64062 0.33203v0.003906c0.87891 0.42969 1.7812 0.80078 2.7109 1.1055-0.99219-0.074219-1.9766-0.25391-2.9297-0.53516-0.23828-0.074219-0.47656-0.14844-0.71875-0.22656-0.23828-0.078125-0.46875-0.17578-0.70703-0.26172-0.23438-0.089843-0.46484-0.19922-0.69531-0.29687l-0.6875-0.33984c-1.8203-0.94141-3.4531-2.2109-4.8125-3.7461-1.3789-1.5547-2.4609-3.3477-3.1953-5.2891-1.4844-3.9414-1.4844-8.2891 0-12.234 0.73438-1.9414 1.8203-3.7344 3.1953-5.2852 1.3633-1.5352 2.9922-2.8047 4.8125-3.7461 0.89844-0.46484 1.8398-0.83984 2.8086-1.1211 0.95312-0.28125 1.9375-0.46484 2.9297-0.54297z" fill="currentColor"/>
            <path d="m39.793 41.129c-0.46484 0.24609-0.91016 0.51562-1.3438 0.80859-0.41406 0.27734-0.80469 0.58203-1.1758 0.91406-0.70313 0.625-1.3203 1.3438-1.8242 2.1367-0.48438 0.75391-0.85547 1.5703-1.1094 2.4297-0.49609 1.6836-0.49609 3.4766 0 5.1641 0.25391 0.85547 0.625 1.6758 1.1094 2.4297 0.50781 0.78906 1.1211 1.5078 1.8242 2.1328 0.36719 0.32812 0.75781 0.63672 1.168 0.91406 0.4375 0.29297 0.88281 0.56641 1.3438 0.8125-0.54297 0.054687-1.0938 0.035156-1.6367-0.054688-0.55078-0.085937-1.0938-0.23828-1.6133-0.44531-1.0703-0.43359-2.043-1.082-2.8555-1.9102-0.83203-0.84375-1.4922-1.8477-1.9375-2.9492-0.91016-2.2539-0.91016-4.7695 0-7.0234 0.44531-1.0977 1.1055-2.1016 1.9375-2.9492 0.8125-0.82422 1.7852-1.4727 2.8555-1.9062 0.52344-0.20703 1.0625-0.35937 1.6172-0.44922 0.54297-0.089844 1.0938-0.10938 1.6406-0.054688z" fill="currentColor"/>
            <path d="m52.105 50c0 2.8047-4.207 2.8047-4.207 0s4.207-2.8047 4.207 0" fill="currentColor"/>
          </svg>
        </button>

        {/* AUTOPILOT - Round Button */}
        <button
          onClick={onAutopilotToggle}
          disabled={!isEngineRunning || isEmergencyStop || eBrakeActive}
          className="w-12 h-12 rounded-full bg-transparent flex items-center justify-center transition-all duration-100 touch-feedback font-bold disabled:opacity-50 disabled:cursor-not-allowed"
          style={{
            outline: 'none',
            border: isAutopilotEnabled ? '2px solid transparent' : '2px solid rgb(234, 179, 8)'
          }}
          title={isAutopilotEnabled ? 'AUTOPILOT: ON' : 'AUTOPILOT: OFF'}
        >
          <svg 
            className="w-10 h-10" 
            style={{ color: (!isEngineRunning || isEmergencyStop || eBrakeActive) ? 'rgb(107, 114, 128)' : (isAutopilotEnabled ? 'rgb(34, 197, 94)' : 'rgb(107, 114, 128)') }}
            xmlns="http://www.w3.org/2000/svg" 
            version="1.1" 
            viewBox="-5.0 -10.0 110.0 135.0"
          >
            <path d="m50 81.25c17.234 0 31.25-14.016 31.25-31.25s-14.016-31.25-31.25-31.25-31.25 14.016-31.25 31.25 14.016 31.25 31.25 31.25zm0-59.375c15.516 0 28.125 12.609 28.125 28.125s-12.609 28.125-28.125 28.125-28.125-12.609-28.125-28.125 12.609-28.125 28.125-28.125z" fill="currentColor"/>
            <path d="m43.672 73.828s0.03125 0.015625 0.046875 0.015625h0.03125s0.09375 0.03125 0.15625 0.03125c1.9531 0.51562 4 0.78125 6.0938 0.78125s4.1406-0.26562 6.0938-0.78125c0.0625 0 0.10938-0.015625 0.15625-0.03125h0.03125s0.03125-0.015625 0.046875-0.015625c9.4062-2.5 16.625-10.438 18.062-20.219 0-0.0625 0.015625-0.10938 0.015625-0.17188 0.17188-1.125 0.25-2.2656 0.25-3.4375 0-2.4688-0.35938-4.875-1.0625-7.125 0-0.09375-0.046875-0.1875-0.078125-0.28125-3.1406-9.9844-12.5-17.25-23.516-17.25s-20.375 7.2656-23.516 17.25c-0.03125 0.09375-0.0625 0.1875-0.078125 0.28125-0.70312 2.25-1.0625 4.6562-1.0625 7.125 0 1.1719 0.078125 2.3125 0.25 3.4375 0 0.0625 0.015625 0.10938 0.015625 0.17188 1.4375 9.7812 8.6562 17.719 18.062 20.219zm1.4219-23.438c1.3281-1.3125 3.0625-2.0312 4.9062-2.0312s3.5781 0.71875 4.9062 2.0312c0.625 0.60938 0.625 1.5938 0.015625 2.2031-0.29688 0.3125-0.70312 0.46875-1.1094 0.46875s-0.79688-0.15625-1.0938-0.45312c-1.4688-1.4531-3.9688-1.4531-5.4375 0-0.60938 0.60938-1.6094 0.60938-2.2031-0.015625-0.60938-0.60938-0.60938-1.5938 0.015625-2.2031zm-1.625-1.5938c-0.60938 0.60938-1.5938 0.59375-2.2031-0.015625s-0.60938-1.5938 0-2.2031c2.3438-2.3281 5.4531-3.6094 8.7344-3.6094s6.3906 1.2812 8.7344 3.6094c0.60938 0.60938 0.60938 1.5938 0 2.2031-0.29688 0.3125-0.70312 0.46875-1.1094 0.46875s-0.79688-0.15625-1.0938-0.45312c-1.75-1.75-4.0781-2.7031-6.5312-2.7031s-4.7812 0.95312-6.5312 2.7031zm5 6.6719c0-0.85938 0.6875-1.5625 1.5469-1.5625h0.015625c0.85938 0 1.5625 0.70312 1.5625 1.5625s-0.70312 1.5625-1.5625 1.5625-1.5625-0.70312-1.5625-1.5625zm8.6875 14.828c-0.0625-0.54688-0.09375-1.0781-0.09375-1.6094 0-7.625 6.2031-13.828 13.828-13.828h0.078125c-1.6562 7.2031-6.9375 13.016-13.812 15.438zm-7.1562-41.828c8.4688 0 15.797 4.9062 19.328 12.031-6.2344-2.0312-12.719-3.0625-19.328-3.0625s-13.094 1.0312-19.328 3.0625c3.5312-7.125 10.859-12.031 19.328-12.031zm-20.891 26.391c7.625 0 13.828 6.2031 13.828 13.828 0 0.53125-0.03125 1.0625-0.09375 1.6094-6.875-2.4219-12.156-8.2344-13.812-15.438z" fill="currentColor"/>
            <path d="m22.375 22.375c14.375-14.375 37.234-15.172 52.562-2.4375l-2.9375 0.1875c-0.85938 0.046875-1.5156 0.79688-1.4688 1.6562 0.046875 0.82812 0.73438 1.4688 1.5625 1.4688h0.09375l6.6094-0.42188c0.078125 0 0.14062-0.046875 0.21875-0.0625 0.10938-0.015625 0.21875-0.046875 0.32812-0.09375s0.1875-0.125 0.28125-0.1875c0.0625-0.046875 0.125-0.0625 0.1875-0.125 0 0 0-0.03125 0.03125-0.046875 0.078125-0.078125 0.125-0.1875 0.1875-0.28125 0.046875-0.078125 0.10938-0.14062 0.14062-0.23438 0.03125-0.078125 0.03125-0.17188 0.046875-0.26562 0.015625-0.10938 0.046875-0.21875 0.046875-0.34375v-0.046875l-0.42188-6.6094c-0.0625-0.85938-0.78125-1.5156-1.6562-1.4688-0.85938 0.046875-1.5156 0.79688-1.4688 1.6562l0.17188 2.7656c-16.531-13.703-41.203-12.828-56.719 2.6875-10.25 10.25-14.484 24.844-11.328 39.016 0.15625 0.73438 0.8125 1.2188 1.5312 1.2188 0.10938 0 0.23438 0 0.34375-0.03125 0.84375-0.1875 1.375-1.0156 1.1875-1.8594-2.9219-13.125 1-26.625 10.5-36.125z" fill="currentColor"/>
            <path d="m91.172 40.828c-0.1875-0.84375-1.0156-1.375-1.8594-1.1875s-1.375 1.0156-1.1875 1.8594c2.9219 13.125-1 26.625-10.5 36.125-14.375 14.375-37.234 15.172-52.562 2.4375l2.9375-0.1875c0.85938-0.046875 1.5156-0.79688 1.4688-1.6562s-0.78125-1.5-1.6562-1.4688l-6.6094 0.42188c-0.078125 0-0.14062 0.046875-0.21875 0.0625-0.10938 0.015625-0.21875 0.046875-0.32812 0.09375s-0.1875 0.125-0.28125 0.1875c-0.0625 0.046875-0.125 0.0625-0.1875 0.125 0 0 0 0.03125-0.03125 0.046875-0.078125 0.078125-0.125 0.1875-0.1875 0.28125-0.046875 0.078125-0.10938 0.14062-0.14062 0.23438-0.03125 0.078125-0.03125 0.17188-0.046875 0.26562-0.015625 0.10938-0.046875 0.21875-0.046875 0.34375v0.046875l0.42188 6.6094c0.046875 0.82812 0.73438 1.4688 1.5625 1.4688h0.09375c0.85938-0.046875 1.5156-0.79688 1.4688-1.6562l-0.17188-2.7656c7.7812 6.4531 17.344 9.7031 26.922 9.7031 10.797 0 21.609-4.1094 29.828-12.344 10.25-10.25 14.484-24.844 11.328-39.016z" fill="currentColor"/>
          </svg>
        </button>
      </div>

      {/* CAMERA - Round Button (included in same row above) */}

      {/* Transmission Icon Gearbox */}
      <div className="relative w-full aspect-[110/135] mb-0.5 flex-shrink min-h-0" style={{ maxHeight: 'min(180px, 32vh)' }}>
        {/* Transmission Icon */}
        <svg 
          className="w-full h-full"
          style={{ color: 'currentColor' }}
          xmlns="http://www.w3.org/2000/svg" 
          version="1.1" 
          viewBox="-5.0 -10.0 110.0 135.0"
          preserveAspectRatio="xMidYMid meet"
        >
          <g style={{ fill: 'currentColor' }}>
            <path d="m19.438 22.391c0.53125 0 1.0469-0.046875 1.5625-0.14062 4.3594-0.75 7.6875-4.5469 7.6875-9.1094 0-5.1094-4.1406-9.2656-9.25-9.2656s-9.2656 4.1562-9.2656 9.2656c0 4.5625 3.3438 8.3594 7.7031 9.1094 0.5 0.09375 1.0312 0.14062 1.5625 0.14062z"/>
            <path d="m28.688 85.406c0-4.5625-3.3281-8.3594-7.6875-9.1094-0.51562-0.09375-1.0312-0.14062-1.5625-0.14062s-1.0625 0.046875-1.5625 0.14062c-4.3594 0.75-7.7031 4.5469-7.7031 9.1094 0 5.1094 4.1562 9.2656 9.2656 9.2656s9.25-4.1562 9.25-9.2656z"/>
            <path d="m50 76.156c-0.53125 0-1.0469 0.046875-1.5625 0.14062-4.3594 0.75-7.7031 4.5469-7.7031 9.1094 0 5.1094 4.1562 9.2656 9.2656 9.2656s9.2656-4.1562 9.2656-9.2656c0-4.5625-3.3438-8.3594-7.7031-9.1094-0.51562-0.09375-1.0312-0.14062-1.5625-0.14062z"/>
            <path d="m50 3.875c-5.1094 0-9.2656 4.1562-9.2656 9.2656 0 4.5625 3.3438 8.3594 7.7031 9.1094 0.51562 0.09375 1.0312 0.14062 1.5625 0.14062s1.0469-0.046875 1.5625-0.14062c4.3594-0.75 7.7031-4.5469 7.7031-9.1094 0-5.1094-4.1562-9.2656-9.2656-9.2656z"/>
            <path d="m80.562 3.875c-5.1094 0-9.25 4.1562-9.25 9.2656 0 4.5625 3.3281 8.3594 7.6875 9.1094 0.51562 0.09375 1.0312 0.14062 1.5625 0.14062s1.0625-0.046875 1.5625-0.14062c4.3594-0.75 7.7031-4.5469 7.7031-9.1094 0-5.1094-4.1562-9.2656-9.2656-9.2656z"/>
            <path d="m80.566 69.422c0.86328 0 1.5625-0.69922 1.5625-1.5625v-45.609c-0.50781 0.085938-1.0273 0.14062-1.5625 0.14062s-1.0547-0.054687-1.5625-0.14062v26.188h-27.441v-26.188c-0.50781 0.085938-1.0273 0.14062-1.5625 0.14062s-1.0547-0.054687-1.5625-0.14062v26.188h-27.441v-26.188c-0.50781 0.085938-1.0273 0.14062-1.5625 0.14062s-1.0547-0.054687-1.5625-0.14062v54.043c0.50781-0.085938 1.0273-0.14062 1.5625-0.14062s1.0547 0.054687 1.5625 0.14062v-24.73h27.441v24.73c0.50781-0.085938 1.0273-0.14062 1.5625-0.14062s1.0547 0.054687 1.5625 0.14062v-24.73h27.441v16.297c0 0.86328 0.69922 1.5625 1.5625 1.5625z"/>
            <path d="m82.688 74.695h-8.3672c-0.86328 0-1.5625 0.69922-1.5625 1.5625v18.305c0 0.86328 0.69922 1.5625 1.5625 1.5625 0.86328 0 1.5625-0.69922 1.5625-1.5625v-7.5898h5.125l4.4141 8.3203c0.28125 0.52734 0.82031 0.82812 1.3828 0.82812 0.24609 0 0.49609-0.058594 0.73047-0.18359 0.76172-0.40625 1.0547-1.3516 0.64844-2.1133l-3.7812-7.125c2.2969-0.73047 3.9609-2.8828 3.9609-5.4141v-0.91406c0-3.1328-2.5469-5.6797-5.6797-5.6797z" style={{ fill: currentGear === "R" ? "rgb(20, 184, 166)" : "currentColor", opacity: (isEnabled && !isAutopilotEnabled) ? 1 : 0.5, transition: "fill 0.2s, opacity 0.2s" }} />
          </g>

          {/* Invisible click handler for R */}
          <circle
            cx="80.6"
            cy="85.4"
            r="12.5"
            fill="transparent"
            stroke="transparent"
            style={{ cursor: (isEnabled && !isAutopilotEnabled) ? 'pointer' : 'not-allowed', opacity: (isEnabled && !isAutopilotEnabled) ? 1 : 0.5 }}
            onClick={() => (isEnabled && !isAutopilotEnabled) && onGearChange("R")}
          />

          {/* Interactive Gear Selection Overlays */}
          {/* S - Top Left */}
          <circle
            cx="19.4"
            cy="13.1"
            r="12.5"
            fill={currentGear === "S" ? "rgb(20, 184, 166)" : "rgba(255, 255, 255, 0.02)"}
            stroke={currentGear === "S" ? "rgb(20, 184, 166)" : "rgba(255, 255, 255, 0.1)"}
            strokeWidth={currentGear === "S" ? "1" : "0.5"}
            style={{ cursor: (isEnabled && !isAutopilotEnabled) ? 'pointer' : 'not-allowed', opacity: (isEnabled && !isAutopilotEnabled) ? 1 : 0.5, transition: 'fill 0.2s, stroke 0.2s, strokeWidth 0.2s' }}
            onClick={() => (isEnabled && !isAutopilotEnabled) && onGearChange("S")}
          />
          <text
            x="19.4"
            y="13.1"
            textAnchor="middle"
            dominantBaseline="middle"
            fontSize="12"
            fontWeight="bold"
            fill={currentGear === "S" ? "white" : "rgb(0, 0, 0)"}
            pointerEvents="none"
          >
            S
          </text>

          {/* 3 - Top Middle */}
          <circle
            cx="50"
            cy="13.1"
            r="12.5"
            fill={currentGear === "3" ? "rgb(20, 184, 166)" : "rgba(255, 255, 255, 0.02)"}
            stroke={currentGear === "3" ? "rgb(20, 184, 166)" : "rgba(255, 255, 255, 0.1)"}
            strokeWidth={currentGear === "3" ? "1" : "0.5"}
            style={{ cursor: (isEnabled && !isAutopilotEnabled) ? 'pointer' : 'not-allowed', opacity: (isEnabled && !isAutopilotEnabled) ? 1 : 0.5, transition: 'fill 0.2s, stroke 0.2s, strokeWidth 0.2s' }}
            onClick={() => (isEnabled && !isAutopilotEnabled) && onGearChange("3")}
          />
          <text
            x="50"
            y="13.1"
            textAnchor="middle"
            dominantBaseline="middle"
            fontSize="12"
            fontWeight="bold"
            fill={currentGear === "3" ? "white" : "rgb(0, 0, 0)"}
            pointerEvents="none"
          >
            3
          </text>

          {/* 2 - Top Right */}
          <circle
            cx="80.6"
            cy="13.1"
            r="12.5"
            fill={currentGear === "2" ? "rgb(20, 184, 166)" : "rgba(255, 255, 255, 0.02)"}
            stroke={currentGear === "2" ? "rgb(20, 184, 166)" : "rgba(255, 255, 255, 0.1)"}
            strokeWidth={currentGear === "2" ? "1" : "0.5"}
            style={{ cursor: (isEnabled && !isAutopilotEnabled) ? 'pointer' : 'not-allowed', opacity: (isEnabled && !isAutopilotEnabled) ? 1 : 0.5, transition: 'fill 0.2s, stroke 0.2s, strokeWidth 0.2s' }}
            onClick={() => (isEnabled && !isAutopilotEnabled) && onGearChange("2")}
          />
          <text
            x="80.6"
            y="13.1"
            textAnchor="middle"
            dominantBaseline="middle"
            fontSize="12"
            fontWeight="bold"
            fill={currentGear === "2" ? "white" : "rgb(0, 0, 0)"}
            pointerEvents="none"
          >
            2
          </text>

          {/* 1 - Bottom Left */}
          <circle
            cx="19.4"
            cy="85.4"
            r="12.5"
            fill={currentGear === "1" ? "rgb(20, 184, 166)" : "rgba(255, 255, 255, 0.02)"}
            stroke={currentGear === "1" ? "rgb(20, 184, 166)" : "rgba(255, 255, 255, 0.1)"}
            strokeWidth={currentGear === "1" ? "1" : "0.5"}
            style={{ cursor: (isEnabled && !isAutopilotEnabled) ? 'pointer' : 'not-allowed', opacity: (isEnabled && !isAutopilotEnabled) ? 1 : 0.5, transition: 'fill 0.2s, stroke 0.2s, strokeWidth 0.2s' }}
            onClick={() => (isEnabled && !isAutopilotEnabled) && onGearChange("1")}
          />
          <text
            x="19.4"
            y="85.4"
            textAnchor="middle"
            dominantBaseline="middle"
            fontSize="12"
            fontWeight="bold"
            fill={currentGear === "1" ? "white" : "rgb(0, 0, 0)"}
            pointerEvents="none"
          >
            1
          </text>

          {/* N - Bottom Middle */}
          <circle
            cx="50"
            cy="85.4"
            r="12.5"
            fill={currentGear === "N" ? "rgb(20, 184, 166)" : "rgba(255, 255, 255, 0.02)"}
            stroke={currentGear === "N" ? "rgb(20, 184, 166)" : "rgba(255, 255, 255, 0.1)"}
            strokeWidth={currentGear === "N" ? "1" : "0.5"}
            style={{ cursor: (isEnabled && !isAutopilotEnabled) ? 'pointer' : 'not-allowed', opacity: (isEnabled && !isAutopilotEnabled) ? 1 : 0.5, transition: 'fill 0.2s, stroke 0.2s, strokeWidth 0.2s' }}
            onClick={() => (isEnabled && !isAutopilotEnabled) && onGearChange("N")}
          />
          <text
            x="50"
            y="85.4"
            textAnchor="middle"
            dominantBaseline="middle"
            fontSize="12"
            fontWeight="bold"
            fill={currentGear === "N" ? "white" : "rgb(0, 0, 0)"}
            pointerEvents="none"
          >
            N
          </text>



        </svg>
      </div>

      {/* Spacer - removed to keep buttons visible */}

      {/* START and STOP Buttons - Always visible, fixed at bottom */}
      <div className="flex gap-1.5 w-full mt-auto pt-1">
        {/* START Button - Round */}
        <button
          onClick={onEngineStart}
          disabled={isEngineRunning || isAutopilotEnabled}
          className="flex-1 rounded-full bg-transparent flex flex-col items-center justify-center py-1.5 px-1 transition-all duration-100 touch-feedback font-bold racing-text disabled:opacity-50 disabled:cursor-not-allowed"
          style={{
            outline: 'none',
            border: '2px solid rgb(0, 184, 163)'
          }}
        >
          <Power className="w-3 h-3 mb-0.5" style={{ color: (isEngineRunning || isAutopilotEnabled) ? 'rgb(107, 114, 128)' : (isEngineRunning ? 'rgb(0, 184, 163)' : 'rgb(107, 114, 128)') }} />
          <span className="text-[6px] sm:text-[7px] leading-tight">START</span>
        </button>

        {/* STOP Button - Round */}
        <button
          onClick={onEngineStop}
          disabled={!isEngineRunning}
          className="flex-1 rounded-full bg-transparent flex flex-col items-center justify-center py-1.5 px-1 transition-all duration-100 touch-feedback font-bold racing-text disabled:opacity-50 disabled:cursor-not-allowed"
          style={{
            outline: 'none',
            border: '2px solid rgb(239, 68, 68)'
          }}
        >
          <PowerOff className="w-3 h-3 mb-0.5" style={{ color: !isEngineRunning ? 'rgb(107, 114, 128)' : 'rgb(239, 68, 68)' }} />
          <span className="text-[6px] sm:text-[7px] leading-tight">STOP</span>
        </button>
      </div>
    </div>
  );
};